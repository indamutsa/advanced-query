## RUN THE CLUSTER using HELM

---

<!-- prettier-ignore-start -->
```md
<!-- Let us start by heading into cluster-helm-deployment folder -->
❯ cd cluster-helm-deployment

<!-- Listing out the directories inside cluster-helm-deployment folder! -->
❯ tree -L 2

.
├── charts
├── Chart.yaml
├── commands.txt
├── hello
│   └── spin-templates.sh
├── templates
│   ├── es-cluster.yaml
│   ├── filebeat.yaml
│   ├── frontend-search.yaml
│   ├── _helpers.tpl
│   ├── kibana.yaml
│   ├── mongodb-router.yaml
│   ├── mongodb-shards.yaml
│   ├── monstache.yaml
│   ├── moongodb-configservers.yaml
│   ├── persistence-api.yaml
│   ├── query-engine.yaml
│   └── setup-mongo-cluster.yaml
└── values.yaml

3 directories, 16 files
```
<!-- prettier-ignore-end -->

I like editing the yaml using the script and generate the yaml using the script, this way I can keep track of the changes I made to the yaml file in one single source of truth.
The script I am using is the hello folder and it is called `spin-templates.sh`

You can run the script to generate data after editing the templates:

```bash
# The scrui
./../hello/spin-templates.sh # While in templates folder
```

this will generate the yaml files in the templates folder.

To run the cluster:
cdhange the directory to cluster-helm-deployment, and run the following commands:

```bash
helm install mdeforge . -f values.yaml
```

In case you want to visualize all yaml files generated by helm, you can run the following command:

```bash
#  Run the cluster using helm with values.yaml file
helm template mdeforge . -f values.yaml

# It can be forwarded to a file like this:
helm template mdeforge . -f values.yaml > mdeforge.yaml
```

---

For more information about `helm`, please refer to the essentials of helm [here](4.1.terraform-guide.md)
