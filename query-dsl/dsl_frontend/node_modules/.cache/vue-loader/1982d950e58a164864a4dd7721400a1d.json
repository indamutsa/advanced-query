{"remainingRequest":"/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/src/App.vue","mtime":1627728471330},{"path":"/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arsene/IdeaProjects/model-services/workflow-dsl/dsl_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb3RvY29sLCBiYXNlVXJsIH0gZnJvbSAiQC9zZXJ2aWNlcy9Db25uZWN0aW9uRGF0YS5qcyI7CmltcG9ydCBDb25zb2xlVmlldyBmcm9tICJAL2NvbXBvbmVudHMvQ29uc29sZVZpZXciOwppbXBvcnQgQ29tcGlsZXJTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvQ29tcGlsZXJTZXJ2aWNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBDb25zb2xlVmlldywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB4dGV4dEVkaXRvcjogbnVsbCwKICAgICAgc2NyaXB0Q29udGFpbmVyOiBudWxsLAogICAgICBkc2xGaWxlRXh0ZW5zaW9uOiAiIiwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgLyogSWYgdGhlIF94dGV4dCBvYmplY3QgaXMgbm90IG51bGwgd2hlbiB3ZSBtb3VudCB0aGlzIGNvbXBvbmVudCwgd2UgY2FuIGNvbnRpbnVlIHRvIGNvbmZpZ3VyZSBvdXIgZWRpdG9yLCBvdGhlcndpc2Ugd2Ugd2lsbCB3YWl0IGZvciB0aGUgJ3JlYWR5JyBldmVudCAqLwoKICAgICF3aW5kb3cuX3h0ZXh0CiAgICAgID8gd2luZG93Lnh0ZXh0UmVhZHlFdmVudC5vbigicmVhZHkiLCB0aGlzLnNldFh0ZXh0RWRpdG9yKQogICAgICA6IHRoaXMuc2V0WHRleHRFZGl0b3IoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFh0ZXh0RWRpdG9yKCkgewogICAgICAvKiBUaGUgc2VydmljZVVybCBjb250YWlucyB0aGUgVVJMLCBvbiB3aGljaAogICAgICAgdGhlIGxhbmd1YWdlIHNlcnZlciBpcyByZWFjaGFibGUgKi8KICAgICAgdGhpcy5kc2xGaWxlRXh0ZW5zaW9uID0gd2luZG93Ll9kc2xGaWxlRXh0ZW5zaW9uOwoKICAgICAgLyogV2UgaGF2ZSB0byB3YWl0IHVudGlsIHJlbmRlcmluZyBvZiB0aGlzLmRzbEZpbGVFeHRlbnNpb24KICAgICAgaW4gZGF0YS1lZGl0b3IteHRleHQtbGFuZyBhdHRyaWJ1dGUgZmluaXNoZXMKICAgICAgYmVmb3JlIHdlIGluaXRpYWxpemUgdGhlIGVkaXRvciAqLwoKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMueHRleHRFZGl0b3IgPSB3aW5kb3cuX3h0ZXh0LmNyZWF0ZUVkaXRvcih7CiAgICAgICAgICBiYXNlVXJsOiAiLyIsCiAgICAgICAgICBzZXJ2aWNlVXJsOiBgJHtwcm90b2NvbH0ke2Jhc2VVcmx9eHRleHQtc2VydmljZWAsCiAgICAgICAgICBzeW50YXhEZWZpbml0aW9uOiBgeHRleHQtcmVzb3VyY2VzL2dlbmVyYXRlZC9tb2RlLSR7dGhpcy5kc2xGaWxlRXh0ZW5zaW9ufS5qc2AsCiAgICAgICAgICBlbmFibGVDb3JzOiB0cnVlLAogICAgICAgICAgbG9hZEZyb21TZXJ2ZXI6IGZhbHNlLAogICAgICAgICAgcmVzb3VyY2VJZDogIi4vbi53bCIsCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5Eb2MoKSB7CiAgICAgIHdpbmRvdy5vcGVuKAogICAgICAgICh3aW5kb3cubG9jYXRpb24uaHJlZiA9CiAgICAgICAgICAiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vZG9jdW1lbnQvZC8xWHJaREstWjFRM3RtYW5xanZmYUNmaWw0LVhtdkgtaVJQLUc1YUxxbTVwTS9lZGl0P3VzcD1zaGFyaW5nIiksCiAgICAgICAgIl9ibGFuayIKICAgICAgKTsKICAgIH0sCiAgICBhc3luYyBjb21waWxlVG9KUygpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBUYWtlIHRoZSBlZGl0b3IgY29udGVudCBhbmQgc2VuZCBpdCB0byB0aGUgYmFja2VuZAogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQ29tcGlsZXJTZXJ2aWNlLmNvbXBpbGVDb2RlKAogICAgICAgICAgdGhpcy54dGV4dEVkaXRvci5nZXRWYWx1ZSgpCiAgICAgICAgKTsKICAgICAgICBjb25zdCBjb21waWxlZENvZGUgPSByZXNwb25zZS5kYXRhLmNvZGU7CiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY29tcGlsZWQgY29kZQogICAgICAgIHRoaXMucnVuQ29tcGlsZWRDb2RlKGNvbXBpbGVkQ29kZSk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLmVycm9yKTsKICAgICAgfQogICAgfSwKICAgIHJ1bkNvbXBpbGVkQ29kZShjb21waWxlZENvZGUpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBoZWFkRE9NID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTsKICAgICAgICAvLyBSZW1vdmUgcHJpb3IgY3JlYXRlZCBzY3JpcHQgRE9NIGlmIG9uZSBleGlzdHMKICAgICAgICBpZiAodGhpcy5zY3JpcHRDb250YWluZXIpIGhlYWRET00ucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHRDb250YWluZXIpOwoKICAgICAgICAvLyBDcmVhdGUgYSBzY3JpcHQgRE9NIHdoaWNoIHdpbGwgY29udGFpbiB0aGUgY29tcGlsZWQgY29kZQogICAgICAgIHRoaXMuc2NyaXB0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgdGhpcy5zY3JpcHRDb250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICB0cnkgewogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1bigpIHsKICAgICAgICAgICAgJHtjb21waWxlZENvZGV9CiAgICAgICAgfQogICAgICAgIHJ1bigpCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NPTVBJTEVEIENPREUgRVJST1I6JywgZXJyKQogICAgICB9CiAgICAgIGA7CiAgICAgICAgLy8gQXBwZW5kaW5nIHRoZSBzY3JpcHQgRE9NIHRvIHRoZSBoZWFkIHdpbGwgbGVhZCB0byBhdXRtYXRpYyBleGVjdXRpb24KICAgICAgICAvLyBvZiB0aGUgYXBwZW5kZWQgc2NyaXB0IERPTQogICAgICAgIGhlYWRET00uYXBwZW5kQ2hpbGQodGhpcy5zY3JpcHRDb250YWluZXIpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <!-- FILE: <project>/frontend/src/App.vue -->\n  <div id=\"app\">\n    <div class=\"container\">\n      <div class=\"topbar\">\n        <div class=\"topbarTitle\">\n          <h1>MDEForgeWL Prototype</h1>\n        </div>\n        <div class=\"topbarDocs\" @click=\"openDoc\">\n          <img src=\"/images/book.png\" alt=\"\">\n          <hr>\n          <p>Documentation</p>\n        </div>\n      </div>\n      <div class=\"content\">\n        <div class=\"contentEditor\">\n          <div class=\"editorRun\" >\n            <!-- <div class=\"editorRunTitle\"> -->\n              <p class=\"execute\" @click=\"compileToJS\">Execute</p>\n              <img @click=\"compileToJS\" src=\"images/execute.png\" alt=\"\">\n            <!-- </div> -->\n          </div>\n          <div id=\"xtext-editor\" :data-editor-xtext-lang=\"this.dslFileExtension\" class=\"editorInput\">\n            /* Please click documentation button to get started */\n          </div>\n        </div>\n        <div class=\"contentConsole\">\n          <ConsoleView id=\"console-view\" />\n          <!-- <div class=\"consoleTitle\">Console Title</div>\n          <div class=\"consoleDisplay\">Display</div> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { protocol, baseUrl } from \"@/services/ConnectionData.js\";\n  import ConsoleView from \"@/components/ConsoleView\";\n  import CompilerService from \"@/services/CompilerService\";\n\n  export default {\n    name: \"App\",\n    components: {\n      ConsoleView,\n    },\n    data() {\n      return {\n        xtextEditor: null,\n        scriptContainer: null,\n        dslFileExtension: \"\",\n      };\n    },\n    mounted() {\n      /* If the _xtext object is not null when we mount this component, we can continue to configure our editor, otherwise we will wait for the 'ready' event */\n\n      !window._xtext\n        ? window.xtextReadyEvent.on(\"ready\", this.setXtextEditor)\n        : this.setXtextEditor();\n    },\n    methods: {\n      setXtextEditor() {\n        /* The serviceUrl contains the URL, on which\n         the language server is reachable */\n        this.dslFileExtension = window._dslFileExtension;\n\n        /* We have to wait until rendering of this.dslFileExtension\n        in data-editor-xtext-lang attribute finishes\n        before we initialize the editor */\n\n        this.$nextTick(() => {\n          this.xtextEditor = window._xtext.createEditor({\n            baseUrl: \"/\",\n            serviceUrl: `${protocol}${baseUrl}xtext-service`,\n            syntaxDefinition: `xtext-resources/generated/mode-${this.dslFileExtension}.js`,\n            enableCors: true,\n            loadFromServer: false,\n            resourceId: \"./n.wl\",\n          });\n        });\n      },\n      openDoc() {\n        window.open(\n          (window.location.href =\n            \"https://docs.google.com/document/d/1XrZDK-Z1Q3tmanqjvfaCfil4-XmvH-iRP-G5aLqm5pM/edit?usp=sharing\"),\n          \"_blank\"\n        );\n      },\n      async compileToJS() {\n        try {\n          // Take the editor content and send it to the backend\n          const response = await CompilerService.compileCode(\n            this.xtextEditor.getValue()\n          );\n          const compiledCode = response.data.code;\n          // Execute the compiled code\n          this.runCompiledCode(compiledCode);\n        } catch (err) {\n          console.error(err.error);\n        }\n      },\n      runCompiledCode(compiledCode) {\n        try {\n          const headDOM = document.getElementsByTagName(\"head\")[0];\n          // Remove prior created script DOM if one exists\n          if (this.scriptContainer) headDOM.removeChild(this.scriptContainer);\n\n          // Create a script DOM which will contain the compiled code\n          this.scriptContainer = document.createElement(\"script\");\n          this.scriptContainer.innerHTML = `\n        try {\n          async function run() {\n              ${compiledCode}\n          }\n          run()\n        } catch (err) {\n          console.error('COMPILED CODE ERROR:', err)\n        }\n        `;\n          // Appending the script DOM to the head will lead to autmatic execution\n          // of the appended script DOM\n          headDOM.appendChild(this.scriptContainer);\n        } catch (err) {\n          console.error(err);\n        }\n      },\n    },\n  };\n</script>\n\n<style>\n  *{\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n\n  }\n\n  .container {\n    width: 100%;\n  }\n\n  .topbar{\n    width: 100%;\n    height: 120px;\n    display: flex;\n    background-color: #3b3c3d;\n    align-items: center;\n  }\n\n  .topbarTitle {\n    flex: 3;\n    width: 100%;\n    height: 70px;\n    color:black;\n    background-color: yellow;\n    text-align: center;\n    line-height: 70px;\n    margin-right: 300px;\n    margin-left: 300px;\n    border-radius: 15px;\n    -webkit-box-shadow: 2px 2px 10px 9px rgba(0,0,0,0.87); \n    box-shadow: 2px 2px 10px 9px rgba(0,0,0,0.87);\n  }\n\n\n\n  .topbarDocs{\n    flex: 1;\n    width: 100%;\n    height: 70px;\n  }\n\n  .topbarDocs img{\n    width: 120px;\n    height: 60px;\n    display: block;\n    margin-right: auto;\n    margin-left: auto;\n    cursor: pointer;\n  }\n\n  .topbarDocs p{\n    color: white;\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .content {\n    width: 100%;\n    display: flex;\n  }\n\n  .contentEditor{\n    flex: 4;\n  }\n\n  .editorRun{\n    border: 2px solid black;\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    margin-left: auto;\n    margin-right: auto;\n\n  }\n\n  .editorRun img{\n    width: 30px;\n    margin: 2px;\n    cursor: pointer;\n  }\n\n  .editorRun img:active{\n        -webkit-box-shadow: 2px 2px 10px 9px rgba(172, 172, 172, 0.87); \n    box-shadow: 2px 2px 10px 9px rgba(131, 131, 131, 0.87);\n  }\n\n  .editorRun .execute{\n      padding: 4px;\n      margin: 2px;\n      cursor: pointer;\n  }\n\n  .editorRun .execute:active{\n    -webkit-box-shadow: 2px 2px 10px 9px rgba(0,0,0,0.87); \n    box-shadow: 2px 2px 10px 9px rgba(0,0,0,0.87);\n  }\n\n  #xtext-editor {\n   height: calc(100vh - 160px);\n    width: 100%;\n    border: 1px solid #aaa;\n  }\n\n\n  .contentConsole{\n    flex: 2\n  }\n\n\n\n  /* html,\n  body,\n  #app {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    width: 100%;\n  }\n\n  #app {\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n    height: 90%;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #controls,\n  .content {\n    width: 90%;\n  }\n\n  .content {\n    display: flex;\n    min-height: 100%;\n  }\n\n  #xtext-editor {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    border: 1px solid #aaa;\n  }\n\n  #console-view {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    border: 1px solid #aaa;\n  }\n\n  .tatanya {\n    display: flex;\n    justify-content: space-between;\n  } */\n</style>\n"]}]}