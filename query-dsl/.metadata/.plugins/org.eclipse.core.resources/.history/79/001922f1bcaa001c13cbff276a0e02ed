/*
 * generated by Xtext 2.25.0
 */
package com.arsene.dsl.query.generator

import org.eclipse.emf.ecore.resource.Resource
import org.eclipse.xtext.generator.AbstractGenerator
import org.eclipse.xtext.generator.IFileSystemAccess2
import org.eclipse.xtext.generator.IGeneratorContext

import com.arsene.dsl.query.queryDsl.Model
import com.arsene.dsl.query.queryDsl.Instruction
import com.arsene.dsl.query.queryDsl.And
import com.arsene.dsl.query.queryDsl.Or
import com.arsene.dsl.query.queryDsl.Plus
import com.arsene.dsl.query.queryDsl.Minus
import com.arsene.dsl.query.queryDsl.Expo
import com.arsene.dsl.query.queryDsl.Mod
import com.arsene.dsl.query.queryDsl.MulOrDiv
import com.arsene.dsl.query.queryDsl.IntConstant
import com.arsene.dsl.query.queryDsl.Primary
import com.arsene.dsl.query.queryDsl.ArithmeticSigned
import com.arsene.dsl.query.queryDsl.Not
import com.arsene.dsl.query.queryDsl.Equality
import com.arsene.dsl.query.queryDsl.Comparison
import com.arsene.dsl.query.queryDsl.BoolConstant
import com.arsene.dsl.query.queryDsl.StringConstant
import com.arsene.dsl.query.queryDsl.VariableDeclaration
import com.arsene.dsl.query.queryDsl.VarRef
import com.arsene.dsl.query.queryDsl.Assignment
import com.arsene.dsl.query.queryDsl.PrintCommand

/**
 * Generates code from your model files on save.
 * 
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#code-generation
 */
class QueryDslGenerator extends AbstractGenerator {
	override void doGenerate(Resource resource, IFileSystemAccess2 fsa, IGeneratorContext context) {
		var generatedCode= ""
//		var model = resource.contents.head as Model
//		
//		for (e : model.instructions.filter(typeof (Instruction))) {
//			generatedCode += e.compile + "\n"; 
//		}
		
		fsa.generateFile("generated_code.js" , generatedCode)
	}

}
